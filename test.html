<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Movie recommendation</title>
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <link rel="stylesheet" href="stylesheet.css"/>
    <py-env>
- paths:
        - ./handleData.py
        - ./dataStorage.csv
    </py-env>
</head>
<body>
    <div id="container">
        <form>
            <label for="fname">First name:</label><br>
            <input type="text" id="fname" name="fname"><br>
            <label for="lname">Last name:</label><br>
            <input type="text" id="lname" name="lname"><br>

            <label for="movies">Recommend a movie:</label><br>
            <select name="movies" id="movies">
              <option value="collision course">collision course</option>
              <option value="Beast">Beast</option>
              <option value="sorcerer's apprentice">sorcerer's apprentice</option>
              <option value="Ghost busters">Ghost busters</option>
            </select><br>
            <input id="subForm" type="submit" value="Submit">
        </form>
    </div>

    <py-script >
<!--        import csv-->
from handleData import *
from js import document, Element, console
from pyodide import create_proxy

def my_function(e):
    firstName = document.getElementById("fname")
    fInp= firstName.value

    lastName = document.getElementById("lname")
    lInp= firstName.value

    movieRec = document.getElementById("movies")
    rInp= firstName.value

    pyscript.write("this is the name", fInp)
    console.log("this is the first name", fInp)


button = document.getElementById("subForm")
button.addEventListener("click", create_proxy(my_function))

<!--storeRecommendation()-->

    </py-script>
</body>
</html>